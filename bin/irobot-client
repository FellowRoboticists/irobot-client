#!/usr/bin/env node
// -*- javascript -*-

var program = require('commander');
var irobot = require('../lib/irobot-client');

// Set up the command line arguments
program.
  version('0.1.0').
  option('-n, --name [name]', 'Specify the name of the robot. Default \'minion\'', 'minion').
  option('-p, --port [port]', 'Specify the port of the telep server. Default \'5555\'', '5555').
  option('-h, --host [host]', 'Specify the host of the telep server. Default \'daneel\'', 'daneel').
  option('-s, --server [server]', 'Specify the name of the telep server. Default \'telep\'', 'telep').
  parse(process.argv)

console.log("Fixing to connect to telep");
irobot.connectToTelep(program.name,
                      parseInt(program.port),
                      program.host,
                      program.server);

console.log("Fixing to connect to iRobot");
irobot.connectToIRobot();

console.log("Waiting for action");

